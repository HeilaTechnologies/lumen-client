<div class="col-sm-12">
  <div class="lead">Stream Properties</div>
  <dl class="dl-horizontal">
    <dt>Time Range</dt>
     <dd *ngIf="stream.size_on_disk>0">
        {{stream.start_time/1e3 | date:"y MMM dd HH:mm:ss"}} &mdash;
        {{stream.end_time/1e3   | date:"y MMM dd HH:mm:ss"}}
    </dd>
    <dd *ngIf="stream.size_on_disk==0"> &mdash;</dd>
    <dt>Size on Disk</dt>
    <dd>{{stream.size_on_disk | byteSize}}</dd>
    <dt>Total Rows</dt>
    <dd>{{stream.total_rows}}</dd>
    <dt>Total Time</dt>
    <dd>{{stream.total_time | duration}}</dd>
    <dt>Database Path</dt>
    <dd>{{stream.path}} <button class="btn btn-xs btn-default">Move</button></dd>
  </dl>

  <app-messages [contents]="messages"></app-messages>

  <form class="clearfix" [formGroup]="form" 
    (ngSubmit)="onSubmit(form.value)">
    <div class="form-group col-md-3">
      <label class="control-label" for="folder-name">Name</label>
      <input class="form-control"
          id="folder-name"
          placeholder="Name"
          type="text"
          [formControl]="form.controls['name']">
    </div>
    <div class="form-group col-md-9">
      <label for="folder-description">Description</label>
      <input class="form-control"
          id="folder-description"
          placeholder="Name"
          type="text"
          [formControl]="form.controls['description']">
    </div>

    <div class="lead">
      <a class="btn btn-default" (click)="toggleElements()">
        <i *ngIf="showElements" class="fa fa-minus"></i>
        <i *ngIf="!showElements" class="fa fa-plus"></i></a>
      Element Properties</div>
    <div [@elementsToggled]="showElements">
    <table class="table table-condensed" >
      <thead>
        <tr>
          <th>Plottable</th>
          <th>Discrete</th>
          <th>Name</th>
          <th>Units</th>
          <th>Offset</th>
          <th>Scale Factor</th>
          <th>Default Min</th>
          <th>Default Max</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let subform of form.controls.db_elements_attributes.controls">
          <td>
            <input type="checkbox"
                [formControl]="subform.controls['plottable']"></td>
          <td>
            <input type="checkbox"
                [formControl]="subform.controls['discrete']"></td>
          <td class="form-group" [class.has-error]="!subform.controls['name'].valid"> 
            <input type="text" class="form-control"
                
                [formControl]="subform.controls['name']"></td>
          <td>
            <input type="text"
                class="form-control"
                [formControl]="subform.controls['units']">
          </td>
          <td class="form-group" [class.has-error]="!subform.controls['offset'].valid">
            <input type="text"
                class="form-control"
                [formControl]="subform.controls['offset']">
          </td>
          <td class="form-group" [class.has-error]="!subform.controls['scale_factor'].valid">
            <input type="text"
                class="form-control"
                [formControl]="subform.controls['scale_factor']">
          </td>
          <td class="form-group" [class.has-error]="!subform.controls['default_min'].valid">
            <input type="text"
                class="form-control"
                placeholder="auto"
                [formControl]="subform.controls['default_min']">
          </td>
          <td class="form-group" [class.has-error]="!subform.controls['default_max'].valid">
            <input type="text"
                class="form-control"
                placeholder="auto"
                [formControl]="subform.controls['default_max']">
          </td>
        </tr>

      </tbody>
    </table>
    </div>
    <div class="form-group">
      <div class="pull-left">
        <button type="submit" class="btn btn-default"
          [disabled]="!form.valid">Save</button>
      </div>
      <div class="pull-right">
        <button class="btn btn-danger">Delete</button>
        <button class="btn btn-default">
            <i class="fa fa-lock"></i>
        </button>
      </div>
    </div>
    </form>
</div>
